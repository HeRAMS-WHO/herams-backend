actor: Tester
params:
  - env
paths:
  tests: protected/tests
  log: protected/tests/_output
  data: protected/tests/_data
  support: protected/tests/_support
  envs: protected/tests/_envs
settings:
  bootstrap: _bootstrap.php
  colors: true
  memory_limit: 1024M
extensions:
  config:
    Codeception\Extension\Recorder:
      delete_successful: true
  enabled:
    - Codeception\Extension\RunFailed
    - Codeception\Extension\Recorder
    - Codeception\Extension\Teststatistics
modules:
  enabled:
    - Db
  config:
    WebDriver:
      url: 'http://%RUNNER_IP%'
      browser: %BROWSER%
      host: %SELENIUM_HOST%
      port: 4444
      wait: 5
      restart: true
      window_size: 1920x1080
      debug: true
    Db:
      populate: true
      cleanup: true
      # This is created by _bootstrap.php.
      dump: protected/tests/_output/combined.sql
      dsn: 'mysql:host=mysql;dbname=%MYSQL_DATABASE%'
      password: '%MYSQL_PASSWORD%'
      user: '%MYSQL_USER%'
    Yii2:
      configFile: protected/config/unit.php
      parts: [init, orm]