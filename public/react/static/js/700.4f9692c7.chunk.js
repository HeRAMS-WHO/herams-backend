"use strict";(self.webpackChunkreact_src=self.webpackChunkreact_src||[]).push([[700],{6700:function(e,n,t){t.r(n);var r=t(4165),a=t(5861),c=t(885),o=t(390),u=(t(2117),t(7706),t(7493)),s=t(4897),i=t(7357),f=t(5327),p=t(2559);(0,s.M)(),(0,i.Q)(),(0,f.t)();n.default=function(e){var n=(0,o.useState)(null),t=(0,c.Z)(n,2),s=t[0],i=t[1];return(0,o.useEffect)((function(){var n=atob(e.config),t=JSON.parse(n),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.dataUrl,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:s.JSON})});case 3:c=e.sent,console.warn("response",c),a(n,!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),a(n,!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var c,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.createUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:s.JSON})});case 3:return c=e.sent,e.next=6,c.text();case 6:o=e.sent,t.dataUrl=o,o.match(/\d+/)[0],a(n,!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),a(n,!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),f=new u.SurveyCreator(t.creatorOptions);return f.JSON={},f.saveSurveyFunc=function(e,n){return t.dataUrl?c(e,n):o(e,n)},t.dataUrl&&fetch(t.dataUrl).then((function(e){return e.json()})).then((function(e){f.JSON=e.config})),i(f),function(){i(null)}}),[e.config]),s?(0,p.jsx)(u.SurveyCreatorComponent,{creator:s}):null}}}]);
//# sourceMappingURL=700.4f9692c7.chunk.js.map