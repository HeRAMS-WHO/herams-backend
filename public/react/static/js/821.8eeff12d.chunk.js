"use strict";(self.webpackChunkreact_src=self.webpackChunkreact_src||[]).push([[821],{1821:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(3098),o=n(390),a=n(9445),c=(n(5724),n(2166),n(2559)),i=function(e){var t=e.columnDefs,n=e.data,i=(0,o.useRef)(),l=(0,o.useMemo)((function(){return{sortable:!0}})),u=(0,o.useCallback)((function(e){console.log("cellClicked",e)}),[]),s=(0,o.useCallback)((function(e){i.current.columnApi.resetColumnState()}),[]);return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"row mt-2 d-flex text-right place-content-end",children:(0,c.jsx)("div",{className:"col-2 offset-10 display-flex ",children:(0,c.jsx)("button",{className:"btn btn-secondary ",onClick:s,children:(0,r.__)("Reset grid")})})}),(0,c.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%",height:"550px"},children:(0,c.jsx)(a.AgGridReact,{pagination:!0,paginationPageSize:10,ref:i,rowData:n,columnDefs:t,defaultColDef:l,animateRows:!0,rowSelection:"multiple",onCellClicked:u})})]})},l=n(1413),u=n(6459),s=function(e){var t=Object.assign({},((0,u.Z)(e),e));return(0,c.jsxs)("svg",(0,l.Z)((0,l.Z)({className:"icon icon-add"},t),{},{children:[(0,c.jsxs)("symbol",{id:"icon-add",viewBox:"0 0 32 32",children:[(0,c.jsx)("path",{d:"M27 0h-22c-2.76 0.003-4.997 2.24-5 5v22c0.003 2.76 2.24 4.997 5 5h22c2.76-0.003 4.997-2.24 5-5v-22c-0.003-2.76-2.24-4.997-5-5zM30 27c0 1.657-1.343 3-3 3h-22c-1.657 0-3-1.343-3-3v-22c0-1.657 1.343-3 3-3h22c1.657 0 3 1.343 3 3z"}),(0,c.jsx)("path",{d:"M17 6h-2v9h-9v2h9v9h2v-9h9v-2h-9z"})]}),(0,c.jsx)("use",{href:"#icon-add"})]}))},f=function(e){var t=Object.assign({},((0,u.Z)(e),e));return(0,c.jsxs)("svg",(0,l.Z)((0,l.Z)({className:"icon icon-trash"},t),{},{children:[(0,c.jsxs)("symbol",{id:"icon-trash",viewBox:"0 0 32 32",children:[(0,c.jsx)("path",{d:"M32 4h-12v-2c0-1.105-0.895-2-2-2h-4c-1.104 0-2 0.895-2 2v2h-12v2h4v21c0.003 2.76 2.24 4.997 5 5h14c2.76-0.003 4.997-2.24 5-5v-21h4zM14 2h4v2h-4zM26 27c0 1.657-1.343 3-3 3h-14c-1.657 0-3-1.343-3-3v-21h20z"}),(0,c.jsx)("path",{d:"M9 8h2v20h-2z"}),(0,c.jsx)("path",{d:"M15 8h2v20h-2z"}),(0,c.jsx)("path",{d:"M21 8h2v20h-2z"})]}),(0,c.jsx)("use",{href:"#icon-trash"})]}))},d=n(4165),h=n(5861),p=n(885),m=n(279);var v=function(){var e=(0,o.useState)([]),t=(0,p.Z)(e,2),n=t[0],r=t[1],a=function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.vd)();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){a()}),[]),{rolesList:n,refreshRolesList:a}},x=n(4381),b=n.n(x),_=n(8770),k=(n.n(_)()(b()),function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var n,r,o,a,c,i,l,u,s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.icon,r=t.title,o=t.html,a=t.footer,c=t.confirmButtonText,i=t.cancelButtonText,l=t.yesCallback,u=t.noCallback,s=t.showCancelButton,e.next=3,b().fire({icon:n,title:r,html:o,confirmButtonText:c,cancelButtonText:i,showCancelButton:s,footer:a}).then((function(e){e.value&&"function"===typeof l&&l(),e.value||"function"!==typeof u||u()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var n,o,a,c,i,l;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,o=t.html,a=t.confirmButtonText,c=t.cancelButtonText,i=t.yesCallback,l=t.noCallback,(0,r.__)("Delete"),(0,r.__)("Cancel"),e.next=5,k({title:n,html:o,confirmButtonText:a,cancelButtonText:c,icon:"info",yesCallback:i,noCallback:l,showCancelButton:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.title,n=e.html,r=e.confirmButtonText,o=e.cancelButtonText,a=e.yesCallback,i=e.noCallback;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{className:"delete-button",onClick:function(){w({title:t,html:n,confirmButtonText:r,cancelButtonText:o,yesCallback:a,noCallback:i})},children:(0,c.jsx)(f,{})})})},j=function(e){var t="/role/".concat(e.data.id,"/update");return(0,c.jsx)("a",{href:t,className:"agGridAnkur",children:e.data.name})},y=function(e){var t=e.deleteYesCallback;return[{headerName:(0,r.__)("Id"),field:"id",checkboxSelection:!1,filter:!0,width:80,pinned:"left"},{headerName:(0,r.__)("Name"),checkboxSelection:!1,field:"name",filter:!0,width:300,pinned:"left",cellRenderer:j,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Scope"),field:"scope",checkboxSelection:!1,filter:!0,width:100,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Type"),field:"type",checkboxSelection:!1,filter:!0,width:100,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Project"),checkboxSelection:!1,filter:!0,cellRenderer:function(e){if(e.data.projectInfo)return JSON.parse(e.data.projectInfo.i18n).title[e.data.projectInfo.primary_language]},width:120,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Created Date"),field:"created_date",checkboxSelection:!1,filter:!0,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Created By"),checkboxSelection:!1,filter:!0,valueGetter:function(e){var t;return null===(t=e.data.creatorUserInfo)||void 0===t?void 0:t.name},sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Last Modified Date"),field:"last_modified_date",checkboxSelection:!1,filter:!0,sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Last Modified By"),field:"last_modified_by",checkboxSelection:!1,filter:!0,valueGetter:function(e){var t;return null===(t=e.data.updaterUserInfo)||void 0===t?void 0:t.name},sortable:!0,comparator:function(e,t){return e.localeCompare(t)}},{headerName:(0,r.__)("Actions"),field:"actions",checkboxSelection:!1,filter:!0,pinned:"right",cellRenderer:function(e){var n=(0,r.__)("Are you sure you want to delete the role {}?").replace("{}",e.data.name);return(0,c.jsx)(C,{title:(0,r.__)("Delete Role"),html:n,confirmButtonText:(0,r.__)("Delete"),cancelButtonText:(0,r.__)("Cancel"),yesCallback:function(){return t(e.data.id)}})}}]},g=function(){var e=v(),t=e.rolesList,n=e.refreshRolesList;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"row mt-4 d-flex place-content-end",children:(0,c.jsx)("div",{className:"col-2 offset-10",children:(0,c.jsxs)("button",{className:"btn btn-default",onClick:function(){window.location.href="role/0/update"},children:[(0,c.jsx)(s,{}),(0,r.__)("Create new role")]})})}),(0,c.jsx)(i,{columnDefs:y({deleteYesCallback:function(e){(0,m.N8)(e).then((function(){n()}))}}),data:t})]})}},279:function(e,t,n){n.d(t,{GI:function(){return s},N8:function(){return f},bl:function(){return i},fp:function(){return l},hw:function(){return a},qg:function(){return u},vd:function(){return c}});var r=n(7787),o=window.HERAMS_PROXY_API_URL||"".concat(window.location.origin,"/api-proxy/core"),a=function(e,t){return(0,r.v)("".concat(o,"/roles/").concat(e,"/update"),t)},c=function(e,t){return(0,r.U)("".concat(o,"/roles/index"),e,t)},i=function(e,t){return(0,r.U)("".concat(o,"/projects"),e,t)},l=function(e,t,n){return(0,r.U)("".concat(o,"/roles/").concat(e,"/view"),t,n)},u=function(e,t){return(0,r.U)("".concat(o,"/permissions/index"),e,t)},s=function(e,t,n){return(0,r.U)("".concat(o,"/roles/").concat(e,"/permissions"),t,n)},f=function(e,t,n){return(0,r.U)("".concat(o,"/roles/").concat(e,"/delete"),t,n)}},7787:function(e,t,n){n.d(t,{U:function(){return i},v:function(){return l}});var r=n(4165),o=n(1413),a=n(5861);function c(){var e=document.querySelector('meta[name="csrf-token"]');return e?e.getAttribute("content"):null}var i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,c,i,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},a=l.length>2&&void 0!==l[2]?l[2]:{},c=new URL(t),Object.keys(n).forEach((function(e){return c.searchParams.append(e,n[e])})),e.next=6,fetch(c,{method:"GET",headers:(0,o.Z)({"Content-Type":"application/json"},a)});case 6:return i=e.sent,e.abrupt("return",u(i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-Csrf-Token":c(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Server responded with status: ".concat(o.status));case 6:return e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error during POST request:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}},3098:function(e,t,n){n.d(t,{Hh:function(){return o},Lb:function(){return a},__:function(){return c}});var r="translations",o=function(e){try{var t=JSON.stringify(e);localStorage.setItem(r,t)}catch(n){console.error("Failed to save translations to localStorage:",n)}},a=function(){try{localStorage.removeItem(r)}catch(e){console.error("Failed to clear translations from localStorage:",e)}},c=function(e){try{var t=localStorage.getItem(r);return t&&JSON.parse(t)[e]||e}catch(n){return console.error("Failed to retrieve translation from localStorage:",n),null}}}}]);
//# sourceMappingURL=821.8eeff12d.chunk.js.map